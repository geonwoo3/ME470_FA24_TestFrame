<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment Software</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</head>
<body>
    <!-- Page 1: Title Page -->
    <div id="page1" class="page">
        <h1>Test Frame</h1>
        <h2>Tensile Test Software</h2>
        <button type="bottom-right" onclick="goToPage(2)">Tensile Test</button>
        <button type="bottom-right" onclick="goToPage(2)">Indentation Test</button>
    </div>

    
    <!-- Page 2: Input Page -->
    <div id="page2" class="page hidden">
        <h2>Enter Experiment Details</h2>
        <form id="inputForm">
            <!-- <label for="filename">File Name:</label>
            <input type="text" id="name" name="name" required><br><br> -->

            <label for="specimen">Specimen Type:</label>
            <select id="specimen" name="specimen" onchange="fillBlanks()">
                <option value="">Select Specimen Type</option>
                <option value="type4">ASTM D638 Type IV</option>
                <option value="type5">ASTM D638 Type V</option>
                <option value="otherType">Other</option>
            </select><br><br>

            <label for="width">Width (mm):</label>
            <input type="number" id="width" name="width" required><br><br>

            <label for="thinkness">Thinkness (mm):</label>
            <input type="number" id="thinkness" name="thinkness" required><br><br>

            <label for="length">Gage Length (mm):</label>
            <input type="number" id="length" name="length" required><br><br>

            <!-- <label for="speed">Extension Rate (mm/s) [Optional]:</label>
            <input type="number" id="speed" name="speed"><br><br> -->

            <fieldset style="border: 1px solid #ccc; padding: 10px; margin: 10px 0;">
                <legend>Select Mode:</legend>
                <button type="button" id="tensileModeBtn" onclick="selectMode('tensile')">Material Tensile Test Mode</button>
                <button type="button" id="scannerModeBtn" onclick="selectMode('scanner')">3D Scanner Mode</button> 
            </fieldset><br><br>

            <button type="button" onclick="validateInput()">Next</button>
        </form>
    </div>



    <!-- Page 3: Calibration Page -->
    <div id="page3" class="page hidden">
        <h2>Adjustment/Calibration</h2>
        <label for="initialForceReading">Force[N]: </label>
        <label for="initialPositionReading">Position[mm]: </label>
        <fieldset style="border: 1px solid #ccc; padding: 10px; margin: 10px 0;">
            <legend>Probe Adjustment</legend>
            <button type="button" class="initialAdj" onclick="initialPosition('coarseCCW')">◀◀</button>
            <button type="button" class="initialAdj" onclick="initialPosition('fineCCW')">◀</button> 
            <button type="button" class="initialAdj" onclick="initialPosition('fineCW')">▶</button>
            <button type="button" class="initialAdj" onclick="initialPosition('coarseCW')">▶▶</button> 
        </fieldset>
        <button type="button" id="calibrate" onclick="selectMode('tensile')">Zero</button>
    </div>



    <!-- Page 4: Experiment Page -->
    <div id="page4" class="page hidden">
        <h2>Experiment</h2>
        <div class="experiment-layout">
            <div class="plot-container">
                <canvas id="plotCanvas"></canvas>
            </div>
            <div class="controls">
                <button id="startStopBtn" class="green" onclick="startStopExperiment()">Start Recording</button>
                <button onclick="stepExperiment()">Step</button>
                <button onclick="continueExperiment()">Continue</button>
                <button onclick="clearData()">Clear</button>
                <button onclick="goToPage(5)">Finish</button>
            </div>
        </div>
    </div>

    <!-- Page 5: Data Save Page -->
    <div id="page5" class="page hidden">
        <h2>Save Experiment Data</h2>
        <p>Would you like to save the experiment data?</p>
        <button onclick="saveData()">Save</button>
        <button onclick="goToPage(6)">Done</button>
    </div>

    <!-- Page 6: Exit Page -->
    <div id="page6" class="page hidden">
        <h1>Thank you for using our software!</h1>
    </div>
</body>
</html>
